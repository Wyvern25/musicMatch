{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Dave\\\\Desktop\\\\Coding_Class\\\\classProject3\\\\new_code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\Dave\\\\Desktop\\\\Coding_Class\\\\classProject3\\\\new_code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Dave\\\\Desktop\\\\Coding_Class\\\\classProject3\\\\new_code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Dave\\\\Desktop\\\\Coding_Class\\\\classProject3\\\\new_code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Dave\\\\Desktop\\\\Coding_Class\\\\classProject3\\\\new_code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Dave\\\\Desktop\\\\Coding_Class\\\\classProject3\\\\new_code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dave\\\\Desktop\\\\Coding_Class\\\\classProject3\\\\new_code\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { _loadPets, _deletePet, _createPet, _updatePet } from './services/PetService';\nimport { _signUp, _login } from './services/AuthService';\nimport Pet from './components/Pet';\nimport ShortPet from './components/ShortPet';\nimport Form from './components/Form';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.getToken = function () {\n      return localStorage.getItem('token');\n    };\n\n    _this.deletePet = function (event) {\n      //in button below add a data attribute with the pet's id\n      var id = event.target.getAttribute('data-id');\n      return _deletePet(id, _this.getToken()).then(function (deletedPetId) {\n        var pets = _this.state.pets.filter(function (pet) {\n          return pet._id !== deletedPetId;\n        });\n\n        _this.setState({\n          pets: pets\n        });\n      });\n    };\n\n    _this.createPet = function (event) {\n      event.preventDefault();\n      var name = event.target.children[0].value;\n      var type = event.target.children[1].value;\n      return _createPet(name, type, _this.getToken()).then(function (rj) {\n        var pets = [].concat(_toConsumableArray(_this.state.pets), [rj]);\n        var dummyData = [].concat(_toConsumableArray(_this.state.dummyData), [[_this.state.purpleRain.split(' ')]]);\n\n        _this.setState({\n          pets: pets,\n          dummyData: dummyData\n        });\n      });\n    };\n\n    _this.updatePet = function (event) {\n      event.preventDefault();\n      var form = event.target;\n      var updatedId = _this.state.edit_id;\n      var name = form.children[0].value;\n      var type = form.children[1].value;\n      return _updatePet(updatedId, name, type, _this.getToken()).then(function (updatedPet) {\n        var pets = _this.state.pets.map(function (oldPet) {\n          //if the pet in this.state.pets is not the pet we updated then leave it alone\n          if (oldPet._id !== updatedId) return oldPet;else return updatedPet;\n        });\n\n        _this.setState({\n          pets: pets\n        });\n      });\n    };\n\n    _this.editPet = function (event) {\n      event.preventDefault();\n      var name = event.target.getAttribute('data-name');\n      var type = event.target.getAttribute('data-type');\n\n      _this.setState({\n        edit_id: event.target.getAttribute('data-id')\n      }, function () {\n        var form = document.querySelector('#editForm');\n        form.children[0].value = name;\n        form.children[1].value = type;\n      });\n    };\n\n    _this.hideEditForm = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        edit_id: \"\"\n      });\n    };\n\n    _this.signUp = function (event) {\n      event.preventDefault();\n      var inputs = event.target.children;\n      var username = inputs[0].value;\n      var password = inputs[2].value;\n      var passwordConf = inputs[4].value;\n\n      if (password === passwordConf) {\n        return _signUp(username, password).then(function (res) {\n          // this.setState({ userID })\n          console.log(res);\n          alert(res.message);\n        });\n      } else {\n        alert('your password and password confirmation have to match!');\n      }\n    };\n\n    _this.login = function (event) {\n      event.preventDefault();\n      var inputs = event.target.children;\n      var username = inputs[0].value;\n      var password = inputs[2].value;\n      return _login(username, password).then(function (res) {\n        if (res.token) {\n          _this.setState({\n            logged_in: true\n          }, function () {\n            localStorage.setItem('token', res.token);\n            this.setState({\n              name: username\n            });\n          });\n        } else {\n          alert('you were not logged in');\n        }\n      });\n    };\n\n    _this.logout = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        logged_in: false\n      }, function () {\n        localStorage.removeItem('token');\n      });\n\n      _this.setState({\n        name: 'Welcome',\n        show_log_in: false\n      });\n    };\n\n    _this.show_log_in = function (event) {\n      event.preventDefault();\n\n      if (_this.state.show_log_in == false) {\n        _this.setState({\n          show_log_in: true\n        });\n      } else {\n        _this.setState({\n          show_log_in: false\n        });\n      }\n\n      _this.setState({\n        show_sign_up: false\n      });\n    };\n\n    _this.show_sign_up = function (event) {\n      event.preventDefault();\n\n      if (_this.state.show_sign_up == false) {\n        _this.setState({\n          show_sign_up: true\n        });\n      } else {\n        _this.setState({\n          show_sign_up: false\n        });\n      }\n\n      _this.setState({\n        show_log_in: false\n      });\n    };\n\n    _this.wordCounter = function (event) {\n      //if (this.state.countup < this.state.dummyData[1].length - 1) {\n      if (_this.state.countup < 150) {\n        _this.setState({\n          countup: _this.state.countup + 1\n        });\n      } else {\n        _this.setState({\n          countup: 0\n        }); //return this.state.dummyData[1][this.state.countup]\n\n      } //return this.countup;\n\n    };\n\n    _this.lyrics = function (event) {\n      _this.setState({\n        dummyData: [_this.state.purpleRain.split(' '), _this.state.vermillion.split(' '), _this.state.myAge.split(' ')]\n      });\n    };\n\n    _this.state = {\n      pets: [{\n        _id: 1,\n        name: 'fido'\n      }, {\n        _id: 2,\n        name: 'snowflake'\n      }],\n      name: '',\n      edit_id: '',\n      logged_in: false,\n      show_sign_up: false,\n      show_log_in: false,\n      countup: 0,\n      //imgColors: ['blue'['green', 'red', 'orange'], 'black'['white', 'grey']],\n      purpleRain: \"I never meant to cause you any sorrow I never meant to cause you any pain I only wanted to one time to see you laughing I only wanted to see you Laughing in the purple rain Purple rain, purple rain Purple rain, purple rain Purple rain, purple rain I only wanted to see you Bathing in the purple rain I never wanted to be your weekend lover I only wanted to be some kind of friend Baby, I could never steal you from another It's such a shame our friendship had to end Purple rain, purple rain Purple rain, purple rain Purple rain, purple rain I only wanted to see you Underneath the purple rain Honey, I know, I know I know times are changing It's time we all reach out For something new, that means you too You say you want a…\",\n      vermillion: \"She seems dressed in all the rings Of past fatalaties So fragile yet so devious She continues to see it Climatic hands that press Her temples and my chest Enter the night that she came home Forever Oh (She's the only one that makes me sad) She is everything and more The solemn hypnotic My Dahlia bathed in possession She is home to me I get nervous, perverse, when I see her it's worse But the stress is astounding It's now or never she's coming home Forever Oh (she's the only one that makes me sad) (Coming alive, she's coming alive) Hard to say what caught my attention Vixen crazy, aphid attraction Carve my name in my face to recognize Such a pheromone cult to terrorize I won't let this build up inside of me I won't let this build up inside of me I won't let this…\",\n      myAge: \"I took her out, it was a Friday night I wore cologne to get the feeling right We started making out and she took off my pants But then I turned on the TV And that's about the time she walked away from me Nobody likes you when you're twenty three And I'm still more amused by TV shows What the hell is A.D.D.? My friends say I should act my age What's my age again, what's my age again? Then later on, on the drive home I called her mom from a pay phone I said I was the cops And your husband's in jail The state looks down on sodomy And that's about the time that bitch hung up on me Nobody likes you when you're twenty three And I'm still more amused by prank phone calls What the hell is call ID? My friends say I should act my age What's my age again, what's my age…\",\n      dummyData: [[1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5], ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'], [234234, 345535, 12212, 98998, 5654645]],\n      dummyLinks: ['https://media0.giphy.com/media/f50TuQCGUAYH6/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp', 'https://media1.giphy.com/media/3nfqWYzKrDHEI/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp', 'https://media1.giphy.com/media/ahZZZZFGLGhvq/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp', 'https://media3.giphy.com/media/12M8qP3VZ2t9Hq/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp', 'https://media0.giphy.com/media/BCnVuGI1PhLIk/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp', 'https://media0.giphy.com/media/wR7LHlfuRUjHW/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp', 'https://media1.giphy.com/media/nfecRCYP9PjO/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp', 'https://media3.giphy.com/media/rmcyMhjLgSy7m/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp', 'https://media2.giphy.com/media/WYBano4Ss5tba/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp', 'https://media1.giphy.com/media/pjpWzzg1rLpVS/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp']\n    }; // this.editPet = this.editPet.bind(this);\n\n    return _this;\n  } // deletePet() {\n  //   alert('hi');\n  // }\n\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.lyrics();\n      setInterval(this.wordCounter, 1000);\n      return _loadPets().then(function (resultingJSON) {\n        return _this2.setState({\n          pets: resultingJSON\n        });\n      });\n    }\n    /*\n    componentDidMount () {\n      setInterval((function() {\n        this.setState({\n          currentImage: this.getRandomImageId()\n        });\n      })(), 5000)\n    }\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Welcome \", this.state.name), React.createElement(\"div\", {\n        class: \"nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, !this.state.logged_in && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"showsignup\",\n        onSubmit: this.show_sign_up,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Sign Up\"))), this.state.show_sign_up && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"form\", {\n        id: \"signUpForm\",\n        onSubmit: this.signUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"put in a username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"put in a password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"confirm your password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, \"Confirm\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"showlogin\",\n        onSubmit: this.show_log_in,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, \"Log In\"))), this.state.show_log_in && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, \"Log In\"), React.createElement(\"form\", {\n        id: \"logInForm\",\n        onSubmit: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"put in a username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"put in a password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"Confirm\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      })), this.state.logged_in && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"Sign Out\"), React.createElement(\"form\", {\n        id: \"logOutForm\",\n        onSubmit: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Log Out\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      })), this.state.logged_in && React.createElement(Form, {\n        func: this.createPet,\n        submitButton: \"Create Lyric Gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }), this.state.edit_id !== \"\" && this.state.logged_in && React.createElement(Form, {\n        cssId: \"editForm\",\n        func: this.updatePet,\n        submitButton: \"Update Lyric Gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }), this.state.edit_id !== \"\" && this.state.logged_in && React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.hideEditForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"hide edit form\")), this.state.logged_in && this.state.pets.map(function (x, index) {\n        return React.createElement(Pet, {\n          _id: x._id,\n          name: x.name,\n          type: x.type,\n          delete: _this3.deletePet,\n          edit: _this3.editPet,\n          source: _this3.state.dummyLinks[(_this3.state.countup + Math.floor(Math.random() * 50)) % _this3.state.dummyLinks.length],\n          countup: _this3.state.dummyData[index][_this3.state.countup % _this3.state.dummyData.length],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        });\n      }), !this.state.logged_in && this.state.pets.map(function (x, index) {\n        return React.createElement(ShortPet, {\n          _id: x._id,\n          name: x.name,\n          type: x.type,\n          source: _this3.state.dummyLinks[(_this3.state.countup + Math.floor(Math.random() * 50)) % _this3.state.dummyLinks.length],\n          countup: _this3.state.dummyData[index][_this3.state.countup % _this3.state.dummyData.length],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;\n/*\n1         1   1\n2         2   2\n3         3   1\n4         4   2\n5         1   1\n1         2   2\n2         3   1\n3         4   2\n4         1   1\n5         2   2\n*/","map":{"version":3,"sources":["C:/Users/Dave/Desktop/Coding_Class/classProject3/new_code/client/src/App.js"],"names":["React","Component","_loadPets","_deletePet","_createPet","_updatePet","_signUp","_login","Pet","ShortPet","Form","App","getToken","localStorage","getItem","deletePet","event","id","target","getAttribute","then","deletedPetId","pets","state","filter","pet","_id","setState","createPet","preventDefault","name","children","value","type","rj","dummyData","purpleRain","split","updatePet","form","updatedId","edit_id","updatedPet","map","oldPet","editPet","document","querySelector","hideEditForm","signUp","inputs","username","password","passwordConf","res","console","log","alert","message","login","token","logged_in","setItem","logout","removeItem","show_log_in","show_sign_up","wordCounter","countup","lyrics","vermillion","myAge","dummyLinks","setInterval","resultingJSON","x","index","Math","floor","random","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { _loadPets, _deletePet, _createPet, _updatePet } from './services/PetService';\nimport { _signUp, _login } from './services/AuthService';\nimport Pet from './components/Pet';\nimport ShortPet from './components/ShortPet';\nimport Form from './components/Form';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      pets: [{ _id: 1, name: 'fido' }, { _id: 2, name: 'snowflake' }],\n      name: '',\n      edit_id: '',\n      logged_in: false,\n      show_sign_up: false,\n      show_log_in: false,\n      countup: 0,\n      //imgColors: ['blue'['green', 'red', 'orange'], 'black'['white', 'grey']],\n      purpleRain: \"I never meant to cause you any sorrow I never meant to cause you any pain I only wanted to one time to see you laughing I only wanted to see you Laughing in the purple rain Purple rain, purple rain Purple rain, purple rain Purple rain, purple rain I only wanted to see you Bathing in the purple rain I never wanted to be your weekend lover I only wanted to be some kind of friend Baby, I could never steal you from another It's such a shame our friendship had to end Purple rain, purple rain Purple rain, purple rain Purple rain, purple rain I only wanted to see you Underneath the purple rain Honey, I know, I know I know times are changing It's time we all reach out For something new, that means you too You say you want a…\",\n      vermillion: \"She seems dressed in all the rings Of past fatalaties So fragile yet so devious She continues to see it Climatic hands that press Her temples and my chest Enter the night that she came home Forever Oh (She's the only one that makes me sad) She is everything and more The solemn hypnotic My Dahlia bathed in possession She is home to me I get nervous, perverse, when I see her it's worse But the stress is astounding It's now or never she's coming home Forever Oh (she's the only one that makes me sad) (Coming alive, she's coming alive) Hard to say what caught my attention Vixen crazy, aphid attraction Carve my name in my face to recognize Such a pheromone cult to terrorize I won't let this build up inside of me I won't let this build up inside of me I won't let this…\",\n      myAge: \"I took her out, it was a Friday night I wore cologne to get the feeling right We started making out and she took off my pants But then I turned on the TV And that's about the time she walked away from me Nobody likes you when you're twenty three And I'm still more amused by TV shows What the hell is A.D.D.? My friends say I should act my age What's my age again, what's my age again? Then later on, on the drive home I called her mom from a pay phone I said I was the cops And your husband's in jail The state looks down on sodomy And that's about the time that bitch hung up on me Nobody likes you when you're twenty three And I'm still more amused by prank phone calls What the hell is call ID? My friends say I should act my age What's my age again, what's my age…\",\n      dummyData: [[1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5], ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'], [234234, 345535, 12212, 98998, 5654645]],\n      dummyLinks: ['https://media0.giphy.com/media/f50TuQCGUAYH6/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp',\n        'https://media1.giphy.com/media/3nfqWYzKrDHEI/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp',\n        'https://media1.giphy.com/media/ahZZZZFGLGhvq/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp',\n        'https://media3.giphy.com/media/12M8qP3VZ2t9Hq/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp',\n        'https://media0.giphy.com/media/BCnVuGI1PhLIk/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp',\n        'https://media0.giphy.com/media/wR7LHlfuRUjHW/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp',\n        'https://media1.giphy.com/media/nfecRCYP9PjO/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp',\n        'https://media3.giphy.com/media/rmcyMhjLgSy7m/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp',\n        'https://media2.giphy.com/media/WYBano4Ss5tba/giphy.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=giphy.webp',\n        'https://media1.giphy.com/media/pjpWzzg1rLpVS/200.webp?cid=790b7611cf1004654aa0f4f44c279eb4523ef5c8a97cdc47&rid=200.webp'\n\n\n      ]\n    }\n\n    // this.editPet = this.editPet.bind(this);\n  }\n\n  // deletePet() {\n  //   alert('hi');\n  // }\n\n  getToken = () => {\n    return localStorage.getItem('token');\n  }\n\n  deletePet = (event) => {\n\n    //in button below add a data attribute with the pet's id\n\n    var id = event.target.getAttribute('data-id');\n\n    return _deletePet(id, this.getToken()).then(deletedPetId => {\n\n      let pets = this.state.pets.filter(pet => pet._id !== deletedPetId)\n\n      this.setState({ pets })\n    })\n\n  }\n\n  createPet = (event) => {\n    event.preventDefault();\n\n    let name = event.target.children[0].value;\n    let type = event.target.children[1].value;\n\n    return _createPet(name, type, this.getToken()).then(rj => {\n      let pets = [...this.state.pets, rj];\n      let dummyData = [...this.state.dummyData, [this.state.purpleRain.split(' ')]];\n      this.setState({ pets, dummyData })\n    })\n  }\n\n  updatePet = (event) => {\n    event.preventDefault();\n\n    let form = event.target;\n\n    let updatedId = this.state.edit_id;\n    let name = form.children[0].value;\n    let type = form.children[1].value;\n\n    return _updatePet(updatedId, name, type, this.getToken()).then(updatedPet => {\n\n      let pets = this.state.pets.map(oldPet => {\n        //if the pet in this.state.pets is not the pet we updated then leave it alone\n        if (oldPet._id !== updatedId) return oldPet;\n        else return updatedPet;\n      })\n\n      this.setState({ pets })\n    })\n  }\n\n  editPet = (event) => {\n    event.preventDefault();\n\n    let name = event.target.getAttribute('data-name');\n    let type = event.target.getAttribute('data-type');\n\n    this.setState({\n      edit_id: event.target.getAttribute('data-id')\n    }, function () {\n\n      let form = document.querySelector('#editForm');\n\n      form.children[0].value = name;\n      form.children[1].value = type;\n\n    })\n\n\n  }\n\n  hideEditForm = (event) => {\n    event.preventDefault();\n\n    this.setState({ edit_id: \"\" })\n  }\n\n  signUp = (event) => {\n    event.preventDefault();\n\n    let inputs = event.target.children;\n\n    let username = inputs[0].value;\n    let password = inputs[2].value;\n    let passwordConf = inputs[4].value;\n\n    if (password === passwordConf) {\n\n      return _signUp(username, password).then(res => {\n        // this.setState({ userID })\n        console.log(res);\n        alert(res.message)\n      });\n\n    } else {\n      alert('your password and password confirmation have to match!')\n    }\n\n  }\n\n  login = (event) => {\n    event.preventDefault();\n\n    let inputs = event.target.children;\n\n    let username = inputs[0].value;\n    let password = inputs[2].value;\n\n\n    return _login(username, password).then(res => {\n      if (res.token) {\n        this.setState({ logged_in: true }, function () {\n          localStorage.setItem('token', res.token);\n          this.setState({ name: username })\n        });\n      } else {\n        alert('you were not logged in')\n      }\n    });\n  }\n\n  logout = (event) => {\n    event.preventDefault();\n\n    this.setState({ logged_in: false }, function () {\n      localStorage.removeItem('token');\n    });\n    this.setState({\n      name: 'Welcome',\n      show_log_in: false\n    })\n  }\n\n  show_log_in = (event) => {\n    event.preventDefault();\n    if (this.state.show_log_in == false) {\n      this.setState({ show_log_in: true })\n    } else { this.setState({ show_log_in: false }) }\n    this.setState({ show_sign_up: false })\n  }\n\n  show_sign_up = (event) => {\n    event.preventDefault();\n    if (this.state.show_sign_up == false) {\n      this.setState({ show_sign_up: true })\n    } else { this.setState({ show_sign_up: false }) }\n    this.setState({ show_log_in: false })\n  }\n  /*\n    wordCounter = (event) => {\n      if (this.state.countup < 5) {\n        this.setState({\n          countup: this.state.countup + 1\n        });\n      } else {\n        this.setState({\n          countup: 0\n        });\n        return this.state.countup\n      }\n      //return this.countup;\n    }\n  */\n  wordCounter = (event) => {\n    //if (this.state.countup < this.state.dummyData[1].length - 1) {\n    if (this.state.countup < 150) {\n\n      this.setState({\n        countup: this.state.countup + 1\n      });\n    } else {\n      this.setState({\n        countup: 0\n      });\n      //return this.state.dummyData[1][this.state.countup]\n    }\n    //return this.countup;\n  }\n\n  lyrics = (event) => {\n    this.setState({\n      dummyData: [this.state.purpleRain.split(' '), this.state.vermillion.split(' '), this.state.myAge.split(' ')]\n    })\n  }\n\n\n  componentDidMount() {\n    this.lyrics();\n    setInterval(this.wordCounter, 1000);\n    return _loadPets()\n      .then(resultingJSON => this.setState({ pets: resultingJSON }))\n\n  }\n\n  /*\n  componentDidMount () {\n    setInterval((function() {\n      this.setState({\n        currentImage: this.getRandomImageId()\n      });\n    })(), 5000)\n  }\n*/\n\n\n\n\n\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header>\n          {/* <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload. {this.state.edit_id}\n          </p> */}\n          {/* <h1>{this.state.countup + 1}</h1> */}\n\n          <h1>Welcome {this.state.name}</h1>\n\n          <div class='nav'>\n\n            {!this.state.logged_in &&\n              <div>\n\n                <div>\n                  <form id=\"showsignup\" onSubmit={this.show_sign_up}>\n                    <button>Sign Up</button>\n                  </form>\n\n                </div>\n\n                {this.state.show_sign_up &&\n                  <div>\n                    <h2>Sign Up</h2>\n\n                    <form id=\"signUpForm\" onSubmit={this.signUp}>\n                      <input type=\"text\" name=\"username\" placeholder=\"put in a username\" />\n                      <br></br>\n                      <input type=\"password\" name=\"password\" placeholder=\"put in a password\" />\n                      <br></br>\n                      <input type=\"password\" name=\"password\" placeholder=\"confirm your password\" />\n                      <br></br>\n                      <button>Confirm</button>\n                    </form>\n                    <br></br>\n                  </div>}\n\n\n\n                <div>\n                  <form id=\"showlogin\" onSubmit={this.show_log_in}>\n                    <button>Log In</button>\n                  </form>\n\n                </div>\n\n\n                {this.state.show_log_in &&\n                  <div>\n                    <h2>Log In</h2>\n\n                    <form id=\"logInForm\" onSubmit={this.login}>\n                      <input type=\"text\" name=\"username\" placeholder=\"put in a username\" />\n                      <br></br>\n                      <input type=\"password\" name=\"password\" placeholder=\"put in a password\" />\n                      <br></br>\n                      <button>Confirm</button>\n                    </form>\n                    <br></br>\n                  </div>}\n\n                <br /><br /><br />\n              </div>}\n\n            {this.state.logged_in &&\n\n              <div>\n                <h2>Sign Out</h2>\n\n                <form id=\"logOutForm\" onSubmit={this.logout}>\n                  <button>Log Out</button>\n                </form>\n\n                <br /><br /><br />\n              </div>}\n\n            {this.state.logged_in && <Form func={this.createPet} submitButton=\"Create Lyric Gif\" />}\n\n            {(this.state.edit_id !== \"\") && this.state.logged_in && <Form cssId=\"editForm\" func={this.updatePet} submitButton=\"Update Lyric Gif\" />}\n\n            {(this.state.edit_id !== \"\") && this.state.logged_in && <a href=\"#\" onClick={this.hideEditForm}>hide edit form</a>}\n\n\n\n\n          </div>\n\n          {this.state.logged_in && this.state.pets.map((x, index) => <Pet\n            _id={x._id}\n            name={x.name}\n            type={x.type}\n            delete={this.deletePet}\n            edit={this.editPet}\n            source={this.state.dummyLinks[(this.state.countup + Math.floor(Math.random() * 50)) % this.state.dummyLinks.length]}\n            countup={this.state.dummyData[index][this.state.countup % this.state.dummyData.length]} />)}\n          {/* countup={this.state.countup} />)} */}\n          {/* {!this.state.logged_in && this.state.pets.map((x, index) => <ShortPet _id={x._id} name={x.name} type={x.type} countup={index} />)} */}\n          {/* {!this.state.logged_in && this.state.pets.map((x) => <ShortPet _id={x._id} name={x.name} type={x.type} countup={this.state.countup} />)} */}\n          {!this.state.logged_in && this.state.pets.map((x, index) => <ShortPet\n            _id={x._id}\n            name={x.name}\n            type={x.type}\n            source={this.state.dummyLinks[(this.state.countup + Math.floor(Math.random() * 50)) % this.state.dummyLinks.length]}\n            countup={this.state.dummyData[index][this.state.countup % this.state.dummyData.length]} />)}\n          {/* countup={this.state.countup} />)} */}\n\n\n\n\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n/*\n1         1   1\n2         2   2\n3         3   1\n4         4   2\n5         1   1\n1         2   2\n2         3   1\n3         4   2\n4         1   1\n5         2   2\n*/"]},"metadata":{},"sourceType":"module"}